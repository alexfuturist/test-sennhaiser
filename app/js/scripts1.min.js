function tip(){$(".t,.tip").webuiPopover({placement:"top",trigger:"hover",backdrop:!1,animation:"fade",dismissible:!0,padding:!1,onShow:function(e){},onHide:function(e){}}).on("show.webui.popover hide.webui.popover",function(e){$(this).toggleClass("active")})}$("body").on("click",".tab__navitem",function(e){var o=$(this).index();$(this).hasClass("parent")&&(o=$(this).parent().index()),$(this).hasClass("active")||($(this).closest(".tabs").find(".tab__navitem").removeClass("active"),$(this).addClass("active"),$(this).closest(".tabs").find(".tab__item").removeClass("active").eq(o).addClass("active"),0<$(this).closest(".tabs").find(".slick-slider").length&&$(this).closest(".tabs").find(".slick-slider").slick("setPosition"))}),$.each($(".spoller.active"),function(e,o){$(this).next().show()}),$("body").on("click",".spoller",function(e){return $(this).hasClass("mob")&&!isMobile.any()||(0<$(this).parents(".one").length&&($(this).parents(".one").find(".spoller").not($(this)).removeClass("active").next().slideUp(300),$(this).parents(".one").find(".spoller").not($(this)).parent().removeClass("active")),$(this).hasClass("closeall")&&!$(this).hasClass("active")&&$.each($(this).closest(".spollers").find(".spoller"),function(e,o){$(this).removeClass("active"),$(this).next().slideUp(300)}),$(this).toggleClass("active").next().slideToggle(300,function(e,o){0<$(this).parent().find(".slick-slider").length&&$(this).parent().find(".slick-slider").slick("setPosition")})),!1}),0<$(".t,.tip").length&&tip();var body=document.querySelector("body"),header_body=document.querySelector(".header__body"),header_burger=document.querySelector(".header__burger"),overlay_show=document.querySelector(".overlay-show"),header_link=document.querySelectorAll(".header__link"),header_logo=document.querySelector(".header__logo");header_burger.addEventListener("click",function(e){header_body.classList.toggle("header__active"),body.classList.toggle("lock")});for(var i=0;i<header_link.length;i++)header_link[i].addEventListener("click",function(){header_body.classList.remove("header__active"),body.classList.remove("lock")});header_logo.addEventListener("click",function(){header_body.classList.remove("header__active"),body.classList.remove("lock")}),$(document).ready(function(){var e=$(".header"),o=$(".header__body"),t=e.height(),l=(o.height(),t);$(window).on("resize",function(){t=e.height(),o.height(),l=t}),$(document).on("scroll",function(){$(document).scrollTop()>l?$(".header__body-fixed").addClass("header__body-fixed--show"):$(".header__body-fixed").removeClass("header__body-fixed--show")})});var buttons=document.getElementsByClassName("button"),forEach=Array.prototype.forEach;function addElement(e){var o=document.createElement("div"),t=Math.max(this.clientWidth,this.clientHeight),l=this.getBoundingClientRect(),a=o.style,i="px";a.height=a.width=t+i,a.left=e.clientX-l.left-t/2+i,a.top=e.clientY-l.top-t/2+i,o.classList.add("pulse"),this.appendChild(o),o.addEventListener("animationend",function(){o.remove()})}forEach.call(buttons,function(e){e.addEventListener("click",addElement)}),function(){var d={width:57,height:53},c={width:113,height:106};function e(o,t){var l=null;return function(e){l&&clearTimeout(l),l=setTimeout(function(){o.apply(this,e),l=null},t)}}window.initialize=function(){var e=document.documentElement.clientWidth||window.innerWidth,o={lat:50.428499,lng:30.538487},t=e<768?d:c,l={center:e<1150?{lat:50.428805,lng:30.538487}:{lat:50.429205,lng:30.5349},zoom:17,disableDefaultUI:!1,content:n,styles:[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry",stylers:[{visibility:"on"},{color:"#333739"},{weight:.8}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#68b738"}]},{featureType:"poi",elementType:"all",stylers:[{color:"#2ecc71"},{lightness:-7},{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.government",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"all",stylers:[{color:"#2ecc71"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#333739"},{weight:.3},{lightness:10}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#68b738"},{lightness:-28}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#68b738"},{visibility:"on"},{lightness:-15}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#68b738"},{lightness:-18}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2ecc71"},{lightness:-34}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#333739"}]}]},a=new google.maps.Map(document.getElementById("map"),l),i={url:"img/8/map_tag.png",scaledSize:t},s=new google.maps.Marker({position:o,map:a,title:"Cat Energy — функциональное питание для котов",icon:i,animation:google.maps.Animation.BOUNCE});s.addListener("click",function(){s.setAnimation(null)});var n='<p class="map-content">Cat Energy — функциональное питание для котов</p><br><p class="map-content">Режим работы: <span class="map-time">9:00 — 21:00</span></></p>',r=new google.maps.InfoWindow({content:n});s.addListener("click",function(){r.open(a,s)}),google.maps.event.addListener(r,"closeclick",function(){s.setAnimation(google.maps.Animation.BOUNCE)})},window.addEventListener("resize",e(initialize,1e3)),window.addEventListener("load",e(initialize,0))}(),window.addEventListener("DOMContentLoaded",function(){[].forEach.call(document.querySelectorAll(".form__contacts-input-phone"),function(e){var n;function o(e){e.keyCode&&(n=e.keyCode),this.selectionStart<3&&e.preventDefault();var o="+38 (0__) ___-____",t=0,l=o.replace(/\D/g,""),a=this.value.replace(/\D/g,""),i=o.replace(/[_\d]/g,function(e){return t<a.length?a.charAt(t++)||l.charAt(t):e});-1!=(t=i.indexOf("_"))&&(t<5&&(t=3),i=i.slice(0,t));var s=o.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&");(!(s=new RegExp("^"+s+"$")).test(this.value)||this.value.length<5||47<n&&n<58)&&(this.value=i),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",o,!1),e.addEventListener("focus",o,!1),e.addEventListener("blur",o,!1),e.addEventListener("keydown",o,!1)})});for(var inputs=document.querySelectorAll("input[data-rule]"),i=0;i<inputs.length;i++)inputs[i].addEventListener("focus",function(){var e,o=this.dataset.rule,t=this.value;switch(o){case"text":e=/^[\-\.\s\'а-яА-Яa-zA-Z-ЁёәіңғүұқөһӘІҢҒҮҰҚӨҺ]{2,25}$/.test(t);break;case"number":e=/^[\-\.\s\'а-яА-Яa-zA-Z0-9_-ЁёәіңғүұқөһӘІҢҒҮҰҚӨҺ]{1,10}$/.test(t);break;case"email":e=/.+@.+\..+/i.test(t);break;case"phone":e=/(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]\d{3}[\s.-]\d{4}/.test(t)}this.classList.remove("form-valid"),this.classList.remove("form-invalid"),e?this.classList.add("form-valid"):this.classList.add("form-invalid")});for(i=0;i<inputs.length;i++)inputs[i].addEventListener("input",function(){var e,o=this.dataset.rule,t=this.value;switch(o){case"text":e=/^[\-\.\s\'а-яА-Яa-zA-Z-ЁёәіңғүұқөһӘІҢҒҮҰҚӨҺ]{2,25}$/.test(t);break;case"number":e=/^[\-\.\s\'а-яА-Яa-zA-Z0-9_-ЁёәіңғүұқөһӘІҢҒҮҰҚӨҺ]{1,10}$/.test(t);break;case"email":e=/.+@.+\..+/i.test(t);break;case"phone":e=/(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]\d{3}[\s.-]\d{4}/.test(t)}this.classList.remove("form-valid"),this.classList.remove("form-invalid"),e?this.classList.add("form-valid"):this.classList.add("form-invalid")});var form=document.querySelector(".form"),modal_form=document.querySelector(".modal-form"),modal_form_close=document.querySelector(".modal-form__close"),modal_overlay=document.querySelector(".modal__overlay");form.onsubmit=function(e){e.preventDefault(),console.log("отмена отправки формы"),modal_overlay.classList.add("modal-show"),modal_form.classList.add("modal-show"),modal_form.classList.add("modal-bounce"),body.classList.toggle("lock")},modal_form_close.addEventListener("click",function(){modal_form.classList.remove("modal-show"),modal_overlay.classList.remove("modal-show"),body.classList.remove("lock")}),modal_overlay.addEventListener("click",function(){modal_form.classList.remove("modal-show"),modal_overlay.classList.remove("modal-show"),body.classList.remove("lock")}),window.addEventListener("keydown",function(e){27===e.keyCode&&modal_form.classList.contains("modal-show")&&(e.preventDefault(),modal_form.classList.remove("modal-show"),modal_overlay.classList.remove("modal-show"),modal_form.classList.remove("modal-error"),body.classList.remove("lock"))});for(var catalog_item_image=document.querySelectorAll(".item-catalog__link-image"),catalog_item_info=document.querySelectorAll(".item-catalog__info-link"),catalog_item_link=document.querySelectorAll(".item-catalog__link-buy"),modal_cart_notification=document.querySelector(".modal-cart-notification"),modal_cart_notification_close=document.querySelector(".modal-cart-notification__close"),modal_cart_notification_submit=document.querySelector(".modal-cart-notification__submit"),modal_overlay=document.querySelector(".modal__overlay"),i=0;i<catalog_item_image.length;i++)catalog_item_image[i].addEventListener("click",function(e){e.preventDefault()});for(i=0;i<catalog_item_info.length;i++)catalog_item_info[i].addEventListener("click",function(e){e.preventDefault()});for(i=0;i<catalog_item_link.length;i++)catalog_item_link[i].addEventListener("click",function(e){e.preventDefault(),modal_overlay.classList.add("modal-show"),modal_cart_notification.classList.add("modal-show"),modal_cart_notification.classList.add("modal-bounce"),body.classList.add("lock")});modal_cart_notification_close.addEventListener("click",function(){modal_cart_notification.classList.remove("modal-show"),modal_overlay.classList.remove("modal-show"),body.classList.remove("lock")}),modal_overlay.addEventListener("click",function(){modal_cart_notification.classList.remove("modal-show"),modal_overlay.classList.remove("modal-show"),body.classList.remove("lock")}),window.addEventListener("keydown",function(e){27===e.keyCode&&modal_cart_notification.classList.contains("modal-show")&&(e.preventDefault(),modal_cart_notification.classList.remove("modal-show"),modal_overlay.classList.remove("modal-show"),modal_cart_notification.classList.remove("modal-error"),body.classList.remove("lock"))}),modal_cart_notification_submit.addEventListener("click",function(e){e.preventDefault(),modal_cart_notification.classList.remove("modal-show"),modal_overlay.classList.remove("modal-show"),body.classList.remove("lock")});for(var catalog_item_image_more=document.querySelectorAll(".item-catalog__link-image-more"),catalog_item_info_more=document.querySelectorAll(".item-catalog__info-link--more"),catalog_item_link_more=document.querySelectorAll(".item-catalog__link-more"),i=0;i<catalog_item_image_more.length;i++)catalog_item_image_more[i].addEventListener("click",function(e){e.preventDefault()});for(i=0;i<catalog_item_info_more.length;i++)catalog_item_info_more[i].addEventListener("click",function(e){e.preventDefault()});for(i=0;i<catalog_item_link_more.length;i++)catalog_item_link_more[i].addEventListener("click",function(e){e.preventDefault()});for(var extra_goods_link=document.querySelectorAll(".extra__goods-link"),i=0;i<extra_goods_link.length;i++)extra_goods_link[i].addEventListener("click",function(e){e.preventDefault(),modal_overlay.classList.add("modal-show"),modal_cart_notification.classList.add("modal-show"),modal_cart_notification.classList.add("modal-bounce"),body.classList.add("lock")});var login_link=document.querySelector(".main-nav__login"),modal_login=document.querySelector(".modal-login"),modal_overlay=document.querySelector(".modal__overlay"),modal_close=document.querySelector(".modal-login__close"),modal_close_mobile=document.querySelector(".modal-login__close--mobile"),login_form=document.querySelector(".modal-login__form"),login=document.querySelector("input.modal-login__icon-name"),password=document.querySelector("input.modal-login__icon-password");login_link.addEventListener("click",function(e){e.preventDefault(),console.log("клик по ссылке вход"),modal_overlay.classList.add("modal-show"),modal_login.classList.add("modal-show"),modal_login.classList.add("modal-bounce"),login.focus()}),modal_close.addEventListener("click",function(){console.log("закрыть попап"),modal_login.classList.remove("modal-show"),modal_overlay.classList.remove("modal-show"),modal_login.classList.remove("modal-error")}),modal_close_mobile.addEventListener("click",function(){console.log("закрыть попап"),modal_login.classList.remove("modal-show"),modal_overlay.classList.remove("modal-show"),modal_login.classList.remove("modal-error")}),modal_overlay.addEventListener("click",function(){console.log("закрыть попап - клик по оверлею"),modal_login.classList.remove("modal-show"),modal_overlay.classList.remove("modal-show"),modal_login.classList.remove("modal-error")}),login_form.addEventListener("submit",function(e){login.value&&password.value||(e.preventDefault(),modal_login.classList.remove("modal-error"),modal_login.offsetWidth=modal_login.offsetWidth,modal_login.classList.add("modal-error"),console.log("Нужно ввести логин и пароль"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&modal_login.classList.contains("modal-show")&&(e.preventDefault(),modal_login.classList.remove("modal-show"),modal_overlay.classList.remove("modal-show"),modal_login.classList.remove("modal-error"))}),AOS.init(),AOS.init({disable:"mobile",startEvent:"DOMContentLoaded",initClassName:"aos-init",animatedClassName:"aos-animate",useClassNames:!1,disableMutationObserver:!1,debounceDelay:50,throttleDelay:99,offset:121,delay:0,duration:400,easing:"ease",once:!1,mirror:!1,anchorPlacement:"top-bottom"});